<div class="testcase__status alert-status-passed" ng-show="testcase.status == 'PASSED'">
    {{'testcase.TEST_PASSED' | translate}}
</div>
<div class="testcase__status alert-status-failed" ng-show="testcase.status !== 'PASSED'"
     ng-controller="angular.noop">
    <div class="btn-group pull-right">
        <span class="btn btn-default btn-sm btn-status-failed"
              ng-click="stacktraceExpanded = !stacktraceExpanded" ng-class="{'active': stacktraceExpanded}">{{'testcase.STACKTRACE' | translate}}</span>
    </div>

    <span class="preformated-text testcase__status--raw">{{testcase.failure.message}}</span>

    <div ng-show="stacktraceExpanded"
         class="testcase__stacktrace testcase__status--raw preformated-text">{{testcase.failure.stackTrace}}</div>
</div>

<div ng-show="screenshots.diff">
    <div class="radio">
        <label>
            <input type="radio" name="viewType" value="diff" ng-model="viewType">
            Show diff
        </label>
    </div>
    <div class="radio">
        <label>
            <input type="radio" name="viewType" value="overlay" ng-model="viewType">
            Show overlay
        </label>
    </div>
</div>

<div ng-switch="viewType">
    <div ng-switch-when="diff" class="screen-diff__image" ng-click="toggleExpanded()" ng-class="{'zoom-in': !isExpanded(), 'zoom-out': isExpanded()}">
        <img ng-src="{{getSourceUrl(screenshots.expected)}}" alt="diff" />
        <img ng-src="{{getSourceUrl(screenshots.diff)}}" alt="expected" />
    </div>
    <div ng-switch-when="overlay">
        <div ng-show="screenshots.expected">
            <input type="range" ng-model="$parent.overlay" min="0" max="100">
            <p>
                <span class="pull-right">Expected</span>
                <span>Actual</span>
            </p>
        </div>
        <div class="screen-diff__image" ng-click="toggleExpanded()"
             ng-class="{'zoom-in': !isExpanded(), 'zoom-out': isExpanded()}">
            <img ng-src="{{getSourceUrl(screenshots.actual)}}" alt="actual"/>
            <img ng-show="screenshots.expected" ng-src="{{getSourceUrl(screenshots.expected)}}" alt="expected"
                 ng-style="{opacity: overlay/100}" />
        </div>
    </div>
</div>
